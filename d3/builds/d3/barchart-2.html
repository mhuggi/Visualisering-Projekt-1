<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>d3.js test</title>
    <script src="https://d3js.org/d3.v4.js"></script>
</head>

<body>
    <h1>Tidsresor med enter()</h1>

<script>
//Höjden på rektanglarna
        var dataTable = [30, 50, 70, 80, 50, 30];
        var height = 200;
        var width = 400;
        var barWidth = 50;
        var barMargin = 10;
//Skapa SVG med JS
        var canvas = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .style("background", "lightgrey");

            //Tidsresan börjar här
            canvas.selectAll("staplar")
                .data(dataTable) // Fyll virtuella staplar med data från array

                //Gå in i varje virtuella stapel
                .enter() //for (i=0; i<dta.length; i++)
                    .append("rect")
                    .attr("width", barWidth)
                    //Bredden av rektangeln = värdet från datatabellen
                    .attr("height", function(data) {return data; })
                    //Första rektangeln x = 100*0, x2 = 100*1 ...
                    .attr("x", function(data, i) {return (barWidth + barMargin) * i; })
                    .attr("y", function(data, i) {return height - data; });


    </script>

</body>

</html>